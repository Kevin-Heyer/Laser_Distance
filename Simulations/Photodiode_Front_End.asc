Version 4
SHEET 1 2456 780
WIRE 848 -208 672 -208
WIRE 1120 -208 928 -208
WIRE 0 -192 0 -208
WIRE 0 -192 -224 -192
WIRE -224 -176 -224 -192
WIRE 1680 -176 1664 -176
WIRE 1824 -176 1760 -176
WIRE 0 -160 0 -192
WIRE 224 -144 208 -144
WIRE 336 -144 288 -144
WIRE 880 -128 784 -128
WIRE 1024 -128 880 -128
WIRE 1120 -128 1120 -208
WIRE 1120 -128 1088 -128
WIRE 0 -64 0 -96
WIRE 48 -64 0 -64
WIRE 176 -64 112 -64
WIRE 208 -64 208 -144
WIRE 208 -64 176 -64
WIRE 224 -64 208 -64
WIRE 336 -64 336 -144
WIRE 336 -64 304 -64
WIRE 880 -48 784 -48
WIRE 1024 -48 880 -48
WIRE 1120 -48 1120 -128
WIRE 1120 -48 1088 -48
WIRE 1456 -48 1440 -48
WIRE 1488 -48 1456 -48
WIRE 1616 -48 1568 -48
WIRE 1664 -48 1664 -176
WIRE 1664 -48 1616 -48
WIRE 1696 -48 1664 -48
WIRE 1456 -32 1456 -48
WIRE 1616 -32 1616 -48
WIRE 1824 -32 1824 -176
WIRE 1824 -32 1760 -32
WIRE 1904 -32 1824 -32
WIRE 1696 -16 1664 -16
WIRE 1904 0 1904 -32
WIRE 2000 0 1904 0
WIRE 2000 16 2000 0
WIRE 2320 16 2272 16
WIRE 2448 16 2384 16
WIRE 208 48 208 -64
WIRE 240 48 208 48
WIRE 336 64 336 -64
WIRE 336 64 304 64
WIRE 432 64 336 64
WIRE 544 64 432 64
WIRE 672 64 672 -208
WIRE 672 64 608 64
WIRE 896 64 672 64
WIRE 112 80 48 80
WIRE 144 80 112 80
WIRE 240 80 224 80
WIRE 1120 80 1120 -48
WIRE 1120 80 960 80
WIRE 1664 80 1664 -16
WIRE 1744 80 1664 80
WIRE 1792 80 1744 80
WIRE 1904 80 1904 0
WIRE 1904 80 1872 80
WIRE 112 96 112 80
WIRE 768 96 704 96
WIRE 800 96 768 96
WIRE 896 96 880 96
WIRE 1664 96 1664 80
WIRE 1744 96 1744 80
WIRE 2000 96 2000 80
WIRE 2080 96 2000 96
WIRE 2208 96 2160 96
WIRE 2272 96 2272 16
WIRE 2320 96 2272 96
WIRE 2448 96 2448 16
WIRE 2448 96 2400 96
WIRE 768 112 768 96
WIRE 2000 112 2000 96
WIRE 1664 176 1664 160
WIRE 1744 176 1744 160
WIRE 1744 176 1664 176
WIRE 1872 176 1744 176
WIRE 2208 192 2208 96
WIRE 2272 192 2272 96
WIRE 2272 192 2208 192
WIRE 2320 192 2272 192
WIRE 2000 208 2000 192
WIRE 2448 208 2448 96
WIRE 2448 208 2384 208
WIRE 2320 224 2272 224
WIRE 1680 256 1664 256
WIRE 1824 256 1760 256
WIRE 2272 256 2272 224
WIRE 2000 304 2000 288
WIRE 2080 304 2000 304
WIRE 2208 304 2208 192
WIRE 2208 304 2160 304
WIRE 2000 320 2000 304
WIRE 1456 384 1440 384
WIRE 1488 384 1456 384
WIRE 1616 384 1568 384
WIRE 1664 384 1664 256
WIRE 1664 384 1616 384
WIRE 1696 384 1664 384
WIRE 1456 400 1456 384
WIRE 1616 400 1616 384
WIRE 1824 400 1824 256
WIRE 1824 400 1760 400
WIRE 1904 400 1824 400
WIRE 1696 416 1664 416
WIRE 1904 432 1904 400
WIRE 2000 432 2000 384
WIRE 2000 432 1904 432
WIRE 1664 512 1664 416
WIRE 1744 512 1664 512
WIRE 1792 512 1744 512
WIRE 1904 512 1904 432
WIRE 1904 512 1872 512
WIRE 1664 528 1664 512
WIRE 1744 528 1744 512
WIRE 1664 608 1664 592
WIRE 1744 608 1744 592
WIRE 1744 608 1664 608
WIRE 1872 608 1744 608
FLAG -224 -96 0
FLAG 272 96 0
FLAG 272 32 Vcc
FLAG -784 160 Vcc
FLAG -784 240 0
FLAG -640 240 0
FLAG -640 160 Vbias
FLAG 48 80 Vbias
FLAG -928 240 0
FLAG -928 160 Vpd
FLAG 0 -288 Vpd
FLAG 112 160 0
FLAG 176 -64 PD_RAW
FLAG 432 64 PD_AMPLIFIED
FLAG 928 112 0
FLAG 928 48 Vcc
FLAG 704 96 Vbias
FLAG 768 176 0
FLAG 880 -48 Pos_Pulse
FLAG 1440 -48 Pos_Pulse
FLAG 880 -128 Neg_Pulse
FLAG 1440 384 Neg_Pulse
FLAG 1872 176 Vbias
FLAG 1616 48 Vbias
FLAG 1728 -64 0
FLAG 1728 0 Vcc
FLAG 1456 32 0
FLAG 1872 608 Vbias
FLAG 1616 480 Vbias
FLAG 1728 368 0
FLAG 1728 432 Vcc
FLAG 1456 464 0
FLAG 2352 176 0
FLAG 2352 240 Vcc
FLAG 2272 320 0
FLAG 2272 224 Vbias
FLAG 704 -48 Vbias
FLAG 704 -128 Vbias
SYMBOL current -224 -96 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(0 1u 0 10u 10n 0 10u 100)
SYMBOL OpAmps\\UniversalOpamp2 272 64 R0
SYMATTR InstName U1
SYMATTR Value2 Avol=1G GBW=10G Slew=10G
SYMBOL voltage -784 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Vcc}
SYMBOL voltage -640 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {Vbias}
SYMBOL res 320 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Gpd}
SYMBOL cap 288 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Cpd}
SYMBOL diode 16 -96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value VS-E5PH3006
SYMBOL voltage -928 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.2
SYMATTR InstName V3
SYMATTR Value {Vpd}
SYMBOL res 240 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Gpd}
SYMBOL cap 96 96 R0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL OpAmps\\UniversalOpamp2 928 80 R0
SYMATTR InstName U2
SYMATTR Value2 Avol=1G GBW=10G Slew=10G
SYMBOL cap 608 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL res 896 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 752 112 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL diode 1088 -64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 1024 -112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 800 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 800 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 1584 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 1632 64 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 1664 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 56k
SYMBOL res 1776 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 33k
SYMBOL cap 1648 96 R0
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL diode 1728 96 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL OpAmps\\UniversalOpamp2 1728 -32 M180
SYMATTR InstName U3
SYMBOL cap 1440 -32 R0
SYMATTR InstName C6
SYMATTR Value 10p
SYMBOL cap 112 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMBOL res 1584 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res 1632 496 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 1664 272 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 56k
SYMBOL res 1776 528 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 33k
SYMBOL cap 1648 528 R0
SYMATTR InstName C8
SYMATTR Value 470p
SYMBOL diode 1760 592 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL OpAmps\\UniversalOpamp2 1728 400 M180
SYMATTR InstName U4
SYMATTR Value2 Avol=1G GBW=10G Slew=10G
SYMBOL cap 1440 400 R0
SYMATTR InstName C9
SYMATTR Value 1f
SYMBOL diode 1984 16 R0
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode 1984 320 R0
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL res 1984 96 R0
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL res 1984 192 R0
SYMATTR InstName R15
SYMATTR Value 100k
SYMBOL res 2176 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 100k
SYMBOL res 2176 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL res 2416 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10Meg
SYMBOL cap 2384 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 10p
SYMBOL OpAmps\\UniversalOpamp2 2352 208 M180
SYMATTR InstName U5
SYMBOL cap 2256 256 R0
SYMATTR InstName C11
SYMATTR Value 10n
SYMBOL ind -16 -304 R0
SYMATTR InstName L1
SYMATTR Value 1
SYMBOL res 944 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
TEXT -440 -32 Left 2 !.PARAM Vbias=Vcc/2
TEXT -440 -56 Left 2 !.PARAM Vcc=3.3
TEXT -440 -8 Left 2 !.param Gpd=1Meg
TEXT -800 312 Left 2 !.tran 0 0.02 0 100n
TEXT -440 16 Left 2 !.param Cpd=1f
TEXT -440 40 Left 2 !.param Vpd=20
TEXT 104 -200 Left 2 ;Tansconductance amplification
TEXT 696 -248 Left 2 ;Differentiator and rectifier
